# Requirement summary

Analysis of requirements to form initial design

## Stories

Server layer:

```
As the server,
I want to listen to get requests on a "/peeps" route,
so that the presentational layer can request all peeps from me.

As the server,
I want to be able to request all peeps from the data layer,
so that I can pass them back to the presentational layer.

As the server,
I want to pass back usernames, names, peep content and time/date to the presentational layer,
so that the presentational layer has the right information.
```

## Summary of expected routes

| Methods | Urls   | Actions            | 
|---------|--------|--------------------|
| GET     | /peeps | Retrieve all peeps |
| POST    | /peeps | Create peep        |


### GET /peeps
Expected response body = JSON: `{[peeps]}`

### POST /peeps
Expected request body = JSON:
```json
{"peep": {
  "username":"Test",
  "realName":"Test User",
  "content":"Another test peep",
  "dateCreated":"2023-02-03T11:18:31.077Z"}
}
```

Expected response body = JSON:
```json
{
    "message": "Peep posted!",
    "peep": {
        "username": "Test",
        "realName": "Test User",
        "content": "Another test peep",
        "dateCreated": "2023-02-03T11:18:31.077Z"
    }
}
```
Expected response if no peep content supplied `{ message: `Error: no content supplied` }` and status code 400.

 
## Object Model for database


| Object | Properties        |
|--------|-------------------|
| Peep   | id @String*       |
|        | username @String  |
|        | realName @string  |
|        | content @String   |
|        | dateCreated @Date |



*unique - generated by Mongo DB.

## Test Plan

### GET - /peeps
Unit Tests:
1. Should return all peeps and status code 200.
2. Should return status code 204 if no peeps are in the database.

### POST - /peeps
1. should return the peep on successful creation with a message and status code 200.
2. should return an error message when no peep content supplied and status code 400.
3. should return a status code 500 if an Exception is thrown
